# gradle.properties - Advanced CRaC Optimization
# Configured for sub-second feedback loops

# =============================================================================
# Core Performance Settings
# =============================================================================

# Configuration cache for instant builds
org.gradle.configuration-cache=true

# Build cache
org.gradle.caching=true

# Parallel execution
org.gradle.parallel=true

# Daemon for faster startup
org.gradle.daemon=true

# =============================================================================
# JVM Settings for Fast Builds
# =============================================================================

# JVM arguments optimized for development
org.gradle.jvmargs=\
  -Xmx2g \
  -XX:+UseG1GC \
  -XX:MaxGCPauseMillis=100 \
  -XX:+HeapDumpOnOutOfMemoryError \
  -XX:HeapDumpPath=build/heapdump.hprof

# =============================================================================
# Compilation Optimization
# =============================================================================

# Disable forked compilation for instant feedback
org.gradle.java.compile.options.fork=false

# Incremental compilation enabled
java.compiler.options.useIncrementalCompilation=true

# Annotation processing disabled for speed
java.compiler.options.proc=none

# =============================================================================
# CRaC Specific Settings
# =============================================================================

# Enable CRaC
org.crac.enable=true

# Checkpoint timeout (5 seconds)
org.crac.checkpoint.timeout=5000

# Restore timeout (100ms target)
org.crac.restore.timeout=100

# =============================================================================
# Test Optimization
# =============================================================================

# Test parallelization
org.gradle.parallel.test=true

# Test fork every N tests (reuse JVM)
org.gradle.test.fork.count=4

# No fork for faster test startup
org.gradle.test.jvmargs=\
  -XX:+UseSerialGC \
  -Xms256m \
  -Xmx512m

# =============================================================================
# Cache Settings
# =============================================================================

# Build cache location
org.gradle.cachedir=build/.gradle-cache

# File cache
org.gradle.file.cache=true

# Configuration cache location
org.gradle.configuration-cache.path=build/.gradle-configuration-cache

# =============================================================================
# Watch Filesystem for Continuous Builds
# =============================================================================

org.gradle.continuous=true

# =============================================================================
# Logging
# =============================================================================

# Minimal logging for speed
org.gradle.logging.level=warn

# Quiet mode for CI
org.gradle.quiet=true
